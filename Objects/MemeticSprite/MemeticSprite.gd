tool
extends Sprite

# -------------------------------------------------------------------------
# Export Variables
# -------------------------------------------------------------------------
export var memetic_color : Color = Color(1,1,1,1)		setget set_memetic_color

# -------------------------------------------------------------------------
# Variables
# -------------------------------------------------------------------------


# -------------------------------------------------------------------------
# Onready Variables
# -------------------------------------------------------------------------

# -------------------------------------------------------------------------
# Setters / Getters
# -------------------------------------------------------------------------
func set_memetic_color(c : Color) -> void:
	var a = modulate.a
	memetic_color = c
	memetic_color.a = a if not Engine.editor_hint else 1.0
	modulate = c

# -------------------------------------------------------------------------
# Override Methods
# -------------------------------------------------------------------------
func _ready() -> void:
	set_memetic_color(memetic_color)
	var _res = Memetics.connect("memetic_changed", self, "_on_memetic_changed")
	_on_memetic_changed(Memetics.get_memetic_value())

# -------------------------------------------------------------------------
# Private Methods
# -------------------------------------------------------------------------



# -------------------------------------------------------------------------
# Public Methods
# -------------------------------------------------------------------------


# -------------------------------------------------------------------------
# Handler Methods
# -------------------------------------------------------------------------
func _on_memetic_changed(value : float) -> void:
	modulate.a = value



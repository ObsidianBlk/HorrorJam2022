tool
extends Area2D

# -----------------------------------------------------------------------------
# Signals
# -----------------------------------------------------------------------------
signal trigger_on()
signal trigger_off()

# -----------------------------------------------------------------------------
# Constants
# -----------------------------------------------------------------------------
const COLOR_ON : Color = Color("#8dde81")
const COLOR_OFF : Color = Color("#fdc02f")

# -----------------------------------------------------------------------------
# Exports
# -----------------------------------------------------------------------------
export (int, 0, 1) var state : int = 0

# -----------------------------------------------------------------------------
# Variables
# -----------------------------------------------------------------------------


# -----------------------------------------------------------------------------
# Onready Variables
# -----------------------------------------------------------------------------
onready var light_node : Light2D = get_node("Light2D")
onready var sprite_node : Sprite = get_node("Sprite")


# -----------------------------------------------------------------------------
# Setters / Getters
# -----------------------------------------------------------------------------
func set_state(s : int) -> void:
	if s == 0 or s == 1:
		if state != s:
			state = s
			if sprite_node:
				sprite_node.frame = state
			if light_node:
				light_node.color = COLOR_ON if state == 0 else COLOR_OFF
			emit_signal("trigger_on" if state == 0 else "trigger_off")

# -----------------------------------------------------------------------------
# Override Methods
# -----------------------------------------------------------------------------





